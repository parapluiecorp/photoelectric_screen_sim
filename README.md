
# Real-Time Sensor Array Visualization System

This project demonstrates a multi-threaded Python Flask server that handles real-time, high-throughput binary sensor data via UDP (User Datagram Protocol), processes it, and exposes the latest processed data via a REST API endpoint. The frontend is a single-file D3.js/HTML client that fetches this data and displays it as a dynamic 128x128 heatmap visualization.

## üöÄ Overview

The system is composed of four main parts:

udp_sender.py: A Python script simulating a microcontroller. It generates synthetic 128x128 sensor data, serializes it into a raw 32KB binary buffer (Int16), and sends it continuously over UDP.

server.py: A multi-threaded Flask application. It runs a dedicated thread to listen for UDP packets and a separate thread to process the binary data, converting it to a floating-point array (0-100 range) and storing it in a global state. The /latest_matrix API endpoint serves this current state via JSON.

testing_client.html: The frontend visualization. This single HTML file uses D3.js to fetch data from the Flask server every second and render it as a real-time 128x128 interactive heat map. It also includes integrated Mocha/Chai unit tests for the client-side data transformation logic.

test_server.py: A Pytest suite for the backend, ensuring the Flask routes, binary handling, and global state management work correctly.

## üõ†Ô∏è Prerequisites

You must have Python 3.8+ installed.

Python Dependencies:

pip install Flask pytest

## üìÇ Project Structure

File

Description

server.py

The main Flask application with UDP listener and data processing threads.

udp_sender.py

Python script to simulate the microcontroller/sensor array output via UDP.

testing_client.html

Self-contained frontend using D3.js and Tailwind CSS for visualization, plus Mocha/Chai for testing.

test_server.py

Pytest suite for backend API endpoints and data handling logic.

matrix.js/index.html

Non-test harnessed source code.

README.md

This file.

## üèÉ Getting Started

To run the entire system, you need to execute the server and the sender in separate terminal windows, then open the client in your browser.

    Run the Flask Server

Start the primary server, which includes the UDP listener and the data processing threads.

python server.py

(The server will start on http://127.0.0.1:5000)

    Run the Data Sender (Simulator)

Open a new terminal window and start the simulator. This script sends a new 32KB UDP packet 10 times per second to the server's listener thread.

python udp_sender.py

    View the Client

Open the testing_client.html file in your web browser (e.g., Chrome, Firefox).

The D3 visualization should begin updating immediately, showing a dynamic, moving hotspot that corresponds to the data being generated by udp_sender.py. The "Status" panel will confirm if it's receiving "LIVE" data.

## ‚úÖ Testing

The project includes unit tests for both the backend (Python) and the frontend (JavaScript).

    Backend Tests (Pytest)

The test_server.py file uses Pytest and the Flask test client to verify that the API endpoints function correctly, especially when handling different global states (None vs. live data).

To run the tests:

pytest test_server.py

Expected Output (all tests should pass):

============================= test session starts ============================= ... test_server.py ... [100%]

============================== 3 passed in 0.xxs ==============================

    Frontend Tests (Mocha/Chai)

The Mocha/Chai test suite is integrated directly into the testing_client.html file.

Open testing_client.html in your browser.

Scroll down to the bottom of the page.

The results of the "Data Transformation Logic" tests will be displayed in the Mocha Test Results Container, confirming that the client-side transformFlatData function correctly converts the server's JSON array into the necessary D3 coordinate objects.

